<div class="view-common" ng-controller="VmRouterCtrl">
    <div class="le-row operate-panel">
        <div class="le-col-6 le-btn-group">
            <button class="btn btn-le-blue" ng-click="openVmRouterCreateModal('500')"><span>创建路由</span></button>
            <button class="btn btn-le-blue" ng-click="deleteRouter()"><span>删除路由</span></button>
            <div dropdown class="more-operation-dropdown">
                <a href class="btn btn-le-yellow" dropdown-toggle>
                    更多操作
                </a>
                <ul class="dropdown-menu" aria-labelledby="simple-dropdown">
                    <li><a href="javascript:void(0);" ng-click="deleteRouter()">修改路由</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="le-row list-common">
        <div class="le-col-12">
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>
                         <span class="iconfont icon-righticon"  ng-class="{checked:isAllRouterChecked()}" ng-click="checkAllRouter()"></span>
                    </th>
                    <th><span>名称(ID)</span></th>
                    <th><span>状态</span></th>
                    <th><span>IP地址</span></th>
                    <th><span>关联子网</span></th>
                    <th><span>创建时间</span></th>
                </tr>
                </thead>
                <tbody id="tby">
                <tr ng-repeat="router in routerList">
                    <td>
                        <span class="iconfont icon-checkiconfill" ng-class="{checked:router.checked}" ng-click="checkRouter(router)"></span>
                    </td>
                    <td><span>{{router.name|| '未设置'}}</span></td>
                    <td><span>{{router.status}}</span></td>
                    <td><span>{{router.gatewayIp}}</span></td>
                    <td><span ng-repeat="subnet in router.subnets">{{subnet.name}}</span></td>
                    <td><span>{{router.created | date:'yyyy-MM-dd'}}</span></td>
                </tr>
                </tbody>
            </table>
            <pagination boundary-links="true" direction-links="false" ng-change="onPageChange()" items-per-page="pageSize"
                        total-items="totalItems" ng-model="currentPage" class="pagination-sm" first-text="&laquo;"
                        last-text="&raquo;">
            </pagination>
        </div>

    </div>
    <toaster-container toaster-options="{'time-out': 3000, 'close-button':true,'position-class':'toast-bottom-right'}">
    </toaster-container>

    <script type="text/ng-template" id="VmRouterCreateModalTpl">
        <div class="modal-vm-router-create">
            <form novalidate class="form-vm-router-create" name="vm_router_create_form">
                <div class="le-modal-header">
                    <span class="header-title">创建路由器</span>
                    <a class="close" ng-click="closeModal()">
                        <i class="iconfont icon-add"></i>
                    </a>
                </div>
                <div class="le-modal-body modal-body">
                    <div class="col-sm-8 body-left">
                        <div class="le-row inputs-item nomargin clearfix">
                            <div class="le-col-4">
                                <span>名称</span>
                            </div>
                            <div class="le-col-8">
                                <input type="text" ng-model="routerName" />
                            </div>
                        </div>
                        <div class="le-row inputs-item nomargin clearfix">
                            <div class="le-col-4 radio-check-label">
                                <span>公网网关</span>
                            </div>
                            <div class="le-col-8 radio-check-group">
                                <div class="letv-radioCheck" ng-class="{'selected':enablePublicNetworkGateway=='true'}" ng-click="enablePublicNetworkGateway='true'">
                                    <i class="iconfont icon-checkblockicon"></i>
                                    <span class="letv-radio-content">开启</span>
                                </div>
                                <div class="letv-radioCheck" ng-class="{'selected':enablePublicNetworkGateway=='flase'}" ng-click="enablePublicNetworkGateway='flase'">
                                    <i class="iconfont icon-checkblockicon"></i>
                                    <span class="letv-radio-content">关闭</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-4 body-right router-body-right">
                        <div class="right-top">
                            <div class="top-title"><span>配置详情</span><i class="iconfont icon-rounddown"></i></div>
                            <ul class="top-items">
                                <li><span class="title">名称：</span><span class="value">{{routerName}}</span></li>
                                <li><span class="title">公网网关：</span><span class="value">{{enablePublicNetworkGateway| publicNetworkGatewayFilter:enablePublicNetworkGateway}}</span></li>
                            </ul>
                        </div>
                        <div class="right-bottom">
                        <span>
                            <span class="title">合计：</span>
                            <span class="price">0</span>
                            <span class="unit">元</span>
                        </span>
                            <button class="btn btn-le-red btn-submit-order" ng-click="createRouter()"><span>提交订单</span></button>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </form>
        </div>
    </script>

    <script type="text/ng-template" id="ConfirmModalTpl">
            <div class="le-confirm">
                <div class="le-row confirm-header">
                    <span class="confirm-title">{{title}}</span>
                    <a class="close" ng-click="closeModal()">
                        <i class="iconfont icon-add"></i>
                    </a>
                </div>
                <div class="le-row confirm-content">
                    <i class="iconfont icon-icon1"></i>
                    <span class="confirm-message">{{confirmMessage}}</span>
                </div>
                <div class="le-row confirm-operation">
                    <button class="btn btn-le-blue" ng-click="ok()">确定</button>
                    <button class="btn btn-le-yellow" ng-click="cancel()">取消</button>
                </div>
            </div>
    </script>
</div>